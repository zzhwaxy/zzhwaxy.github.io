---
layout: post
title: 8086汇编环境的搭建 上
---
## 基本介绍
最近花了一个礼拜多,读完了王爽老师写的汇编语言.
反复实践书上的代码和实验的过程中,也有所感悟.
如果说,c是面向过程的语言,c++是面向对象的语言,
那么,汇编大概是面向寄存器的语言.(开个玩笑~~

## 8086汇编是否已经过时了
在学习一门语言之前,它的实用性确实值得考虑.
现在汇编教程用的大都是基于win32来讲,
电脑上跑的也大都是32位汇编,
16位就似乎有些那么不合时宜. 
它并不能处理多任务等一些复杂需求.
尽管这样,它还是值得我们花时间去学习.
为什么？

学习16位汇编至少有几点好处:

* 结构简单,易于上手
* 深入了解计算机的运行原理和机制
* 为学习32位汇编以及逆向打好基础


通过学习8086汇编,了解到一些程序设计的思路,
寻址方式以及受制于硬件环境的缺陷.
你还可以发现.
c以及之后的高级语言借鉴了很多它的语法和思想.
比如说,所谓数组就不是一块连续的内存吗?

其实就可以看成基地址×16+偏移地址.
这样你就能理解为什么a[5]和5[a]是一样的.
## 环境搭建
debug 是32位程序，不能直接在64位电脑上运行

所以我们需要搭建环境

搭建环境有两种方式,
一种是安装xp虚拟机，直接运行debug
还有一种是安装 *DOSBOX*

## debug调试工具
这里我们通过DOSBox进入虚拟8086模式.
我把所有安装过程中的需要的软件放在百度云里

[链接](https://pan.baidu.com/s/11j8KebxlDbtH2iXHJfDF1A)&nbsp;提取码:t1n2

在F盘中创建一个assembly文件夹, 用来存放以后所有用到的工具和代码,其中

* asm            用来存放汇编代码的目录
* DOSBOX-0.74    DOSBox的安装目录
* masm           存放编译和链接程序目录

如下图:


![图片](/images/file.PNG)


首先,把下载好的文件debug.exe放到masm这个目录
打开DOSBox,运行debug,如图所示:


![图片](/images/debug_fail.PNG) 


这是因为debug没有挂载到DOSBox中, 
所以不识别. 
现在我们让它在启动的时候自动挂载. 
在DOSBox配置文件Options.bat中写入如图所示内容 
现在它就被挂载到虚拟盘C中了 

![图片](/images/options_1.PNG) 

再次执行debug命令 

![gif](/images/debug_success.gif) 

看到不断闪烁的光标时,就可以知道成功了!
### debug的常用命令

* A    修改指定地址的汇编代码
* D    查看指定地址的机器码
* E    修改指定地址的机器码
* R    查看寄存器内容
* P    终止循环和程序
* T    单步执行
* U    查看指定地址的汇编代码

---
这些命令需勤加练习才能掌握,后续内容会在下一篇中介绍. 




